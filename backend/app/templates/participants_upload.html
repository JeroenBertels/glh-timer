{% extends "base.html" %}
{% block content %}
<div class="mb-3">
  <div class="text-muted"><a href="/races/{{ race.race_id }}">‚Üê Back</a></div>
  <h1 class="h3 m-0">Upload participants CSV</h1>
  <div class="text-muted">{{ race.race_id }}</div>
</div>

<div class="card shadow-sm" style="max-width: 820px;">
  <div class="card-body">
    <p class="text-muted small mb-3">
      CSV columns: <code>participant_id</code>, <code>firstname</code>, <code>lastname</code> (optional: <code>sex</code>, <code>group_name</code>, <code>club_name</code>).
    </p>

    {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
    {% endif %}
    {% if msg %}
      <div class="alert alert-success">{{ msg }}</div>
    {% endif %}

    <form method="post" enctype="multipart/form-data">
      <div class="mb-3">
        <input class="form-control" type="file" name="file" accept=".csv,text/csv" required>
      </div>
      <button class="btn btn-primary" type="submit">Upload</button>
      <a class="btn btn-link" href="/races/{{ race.race_id }}">Cancel</a>
    </form>
  </div>
</div>
{% endblock %}
